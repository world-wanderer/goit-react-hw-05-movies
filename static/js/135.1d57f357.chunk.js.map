{"version":3,"file":"static/js/135.1d57f357.chunk.js","mappings":"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","sources":["components/api/api.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '45a3b58db21831f605301278579c97a0',\n  },\n});\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await instance.get('/trending/movie/day', {});\n    return data.results;\n  } catch (error) {\n    toast.warning('OPPS. Something wrong!');\n    return error.message;\n  }\n};\n\nexport const searchMovieByTitle = async query => {\n  try {\n    const { data } = await instance.get(`/search/movie`, {\n      params: { language: 'en-US', page: 1, include_adult: false, query },\n    });\n    console.log(data.results);\n    return data;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const fetchMovieDetails = async movie_id => {\n  try {\n    const { data } = await instance.get(`/movie/${movie_id}`, {\n      params: { language: 'en-US' },\n    });\n    return data;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const getCastById = async movie_id => {\n  try {\n    const { data } = await instance.get(`/movie/${movie_id}/credits`, {\n      params: { language: 'en-US' },\n    });\n    return data.cast;\n  } catch (error) {\n    return error.message;\n  }\n};\n\nexport const getReviewsById = async movie_id => {\n  try {\n    const { data } = await instance.get(`/movie/${movie_id}/reviews`, {\n      params: { language: 'en-US' },\n    });\n    return data.results;\n  } catch (error) {\n    return error.message;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__uXZxd\",\"img\":\"MovieDetails_img__uOAom\",\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"info\":\"MovieDetails_info__qv2SI\",\"list_item\":\"MovieDetails_list_item__rcrs7\",\"item\":\"MovieDetails_item__mbUY+\"};","import css from './MovieDetails.module.css';\n\nimport { fetchMovieDetails } from 'components/api/api';\nimport { lazy, Suspense, useEffect, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\n\nfunction MovieDetails() {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!movieId) return;\n    fetchMovieDetails(movieId).then(details => setMovieDetails(details));\n  }, [movieId]);\n\n  if (!movieDetails) {\n    return null;\n  }\n  const backLink = location.state?.from ?? '/movies';\n  return (\n    <main>\n      <button className={css.button}>\n        <Link to={backLink} className={css.link}>\n          Go back home\n        </Link>\n      </button>\n      <div>\n        {movieDetails && (\n          <div className={css.wrapper}>\n            <div>\n              <img\n                src={`https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`}\n                alt={movieDetails.title}\n                loading={String(lazy)}\n                className={css.img}\n              />\n            </div>\n\n            <div className={css.info}>\n              <div>\n                <h2>{movieDetails.title}</h2>\n                <p>({parseInt(movieDetails.release_date)})</p>\n              </div>\n              <p>\n                User Score: {`${movieDetails.vote_average.toFixed(2)} | 10`}\n              </p>\n              <h3>Overview</h3>\n              <p>{`${movieDetails.overview}`}</p>\n              <h3>Genres</h3>\n              <p>{`${movieDetails.genres\n                .map(genre => genre.name)\n                .join(' / ')}`}</p>\n            </div>\n          </div>\n        )}\n\n        <hr />\n        <h2>Additional information</h2>\n        <ul className={css.list_item}>\n          <li className={css.item}>\n            <NavLink\n              style={({ isActive }) => ({\n                color: isActive ? '#70161E' : 'inherit',\n              })}\n              to=\"cast\"\n              state={{ from: backLink }}\n            >\n              Cast\n            </NavLink>\n          </li>\n          <li className={css.item}>\n            <NavLink\n              style={({ isActive }) => ({\n                color: isActive ? '#70161E' : 'inherit',\n              })}\n              to=\"reviews\"\n              state={{ from: backLink }}\n            >\n              Reviews\n            </NavLink>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </main>\n  );\n}\n\nexport default MovieDetails;\n"],"names":["instance","axios","baseURL","params","api_key","fetchTrendingMovies","get","data","results","toast","message","searchMovieByTitle","query","language","page","include_adult","console","log","fetchMovieDetails","movie_id","getCastById","cast","getReviewsById","movieId","useParams","useState","movieDetails","setMovieDetails","location","useLocation","useEffect","then","details","backLink","state","from","className","css","to","src","poster_path","alt","title","loading","String","lazy","parseInt","release_date","vote_average","toFixed","overview","genres","map","genre","name","join","style","color","isActive","Suspense","fallback"],"sourceRoot":""}